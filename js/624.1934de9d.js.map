{"version":3,"file":"js/624.1934de9d.js","mappings":"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","sources":["webpack://front-club/./src/composables/useGetCommonOps.ts","webpack://front-club/./src/pages/search/SearchLocalType.vue?ffea","webpack://front-club/./src/pages/search/SearchLocalType.vue","webpack://front-club/./src/pages/search/SearchLocalType.vue?39f9"],"sourcesContent":["import ajax from \"@/util/ajax\";\r\nimport { MaybeRefOrGetter, ref, toValue, watch } from \"vue\";\r\n\r\ntype FetchParmas<T> = {\r\n    code: string;\r\n    enable?: MaybeRefOrGetter<boolean>;\r\n    dependancy?: MaybeRefOrGetter[];\r\n    isAll?: boolean;\r\n    onSuccess?: (data: T) => void;\r\n};\r\n\r\nfunction useGetCommonOps<T>({ code, dependancy = [], enable = () => true, isAll = false, onSuccess }: FetchParmas<T>) {\r\n    const data = ref<OpsList[]>([]);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const res = await ajax.get(`/common/comn-code/${code}`);\r\n\r\n            data.value = res.data.map((a: CDList) => ({ label: a.cdNm, value: a.commnCd }));\r\n            onSuccess && onSuccess(res.data);\r\n            isAll ? data.value.unshift({ label: \"전체\", value: \"\" }) : null;\r\n        } catch (err) {\r\n            console.log(err);\r\n        } finally {\r\n        }\r\n    };\r\n\r\n    watch(\r\n        [...dependancy, enable],\r\n        () => {\r\n            if (toValue(enable)) {\r\n                fetchData();\r\n            }\r\n        },\r\n        { immediate: true }\r\n    );\r\n\r\n    return { data };\r\n}\r\n\r\nexport default useGetCommonOps;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, vModelCheckbox as _vModelCheckbox, unref as _unref, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5f1227f5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"searchLocalClub inner-w\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"title-sub mb-16\" }, [\n  /*#__PURE__*/_createTextVNode(\"시도선택\"),\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"required\" })\n], -1))\nconst _hoisted_3 = { class: \"tab square sidoWrap d-flex\" }\nconst _hoisted_4 = [\"onClick\"]\nconst _hoisted_5 = { class: \"font-roboto\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"title-sub mb-16\" }, [\n  /*#__PURE__*/_createTextVNode(\"시군구 선택\"),\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"required\" })\n], -1))\nconst _hoisted_7 = { class: \"tab square sigunguWrap mini\" }\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = { class: \"font-roboto\" }\nconst _hoisted_10 = { class: \"searchOpsBox d-flex ai-center jc-between\" }\nconst _hoisted_11 = { class: \"d-flex\" }\nconst _hoisted_12 = [\"value\"]\nconst _hoisted_13 = { class: \"etcOps\" }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"tit mr-40\" }, \"부가시설\", -1))\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"etcCheckbox\",\n  for: \"a\"\n}, \"주차장\", -1))\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"etcCheckbox\",\n  for: \"b\"\n}, \" 무선인터넷 \", -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"etcCheckbox\",\n  for: \"c\"\n}, \" 셔틀버스 \", -1))\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"etcCheckbox\",\n  for: \"d\"\n}, \" 장애인시설물 \", -1))\n\nimport useFetch from \"@/composables/useFetch\";\r\n    import { ref, watch } from \"vue\";\r\n    import { useField } from \"vee-validate\";\r\n    import useGetCommonOps from \"@/composables/useGetCommonOps\";\r\n\r\n    \nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchLocalType',\n  emits: [\"fetchList\"],\n  setup(__props, { emit: __emit }) {\n\r\n    const emit = __emit;\r\n\r\n    const sidoArr = ref<SidoList[] | null>(null);\r\n    const chosenSido = ref<SidoList | null>(null);\r\n\r\n    const sigunguArr = ref<SigunguList[] | null>(null);\r\n    const chosenSigungu = ref<SigunguList[]>([]);\r\n\r\n    const grEvfxCd = ref<string>(\"\");\r\n    const clubNm = ref<string>(\"\");\r\n\r\n    const grEvfxCdOps = ref<OpsList[] | null>();\r\n\r\n    const etcOps = ref<any>({\r\n        pkgPsbYn: \"N\",\r\n        wifiOffrYn: \"N\",\r\n        shtlOprtYn: \"N\",\r\n        dsbpFaclOffrYn: \"N\"\r\n    });\r\n\r\n    useGetCommonOps({\r\n        code: \"CO010\",\r\n        onSuccess: (data: CDList[]) => {\r\n            grEvfxCdOps.value = [\r\n                { label: \"종목전체\", value: \"\" },\r\n                ...data.map((a: CDList) => ({ value: a.commnCd, label: a.cdNm }))\r\n            ] as OpsList[];\r\n        }\r\n    });\r\n\r\n    useFetch<SidoList[]>({\r\n        url: \"/search/si-do\",\r\n        onSuccess: data => {\r\n            // data.shift();\r\n\r\n            sidoArr.value = data;\r\n            chosenSido.value = { ...data[0] };\r\n        }\r\n    });\r\n\r\n    useFetch<SigunguList[]>({\r\n        url: \"/search/si-gun-gu\",\r\n        dependancy: [() => chosenSido.value],\r\n        enable: () => !!chosenSido.value,\r\n        param: () => ({ siDoCd: chosenSido.value?.siDoCd }),\r\n        onSuccess: data => {\r\n            sigunguArr.value = data;\r\n            chosenSigungu.value.push({ ...data[0] });\r\n        }\r\n    });\r\n    const { fetchData } = useFetch<CloseRangeResDto>({\r\n        url: \"/search/si-gun-gu-sportclub\",\r\n        dependancy: [() => chosenSido.value, () => chosenSigungu.value],\r\n        param: () => ({\r\n            siDoCd: chosenSido.value?.siDoCd,\r\n            siGunGuCd: chosenSigungu.value.map(a => a.siGunGuCd),\r\n            grEvfxCd: grEvfxCd.value,\r\n            clubNm: clubNm.value,\r\n            ...etcOps.value\r\n        }),\r\n        onSuccess: data => {\r\n            console.log(data);\r\n            emit(\"fetchList\", data);\r\n        }\r\n    });\r\n\r\n    watch(\r\n        () => chosenSigungu.value,\r\n        val => {\r\n            console.log(\"cho\", val);\r\n        }\r\n    );\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"ul\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sidoArr.value, (sido) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          class: _normalizeClass([\"opsBtn\", { 'is-active': chosenSido.value?.siDoCd == sido.siDoCd }]),\n          key: sido.siDoCd,\n          onClick: ($event: any) => {\r\n                    chosenSido.value = sido;\r\n                    chosenSigungu.value = [];\r\n                }\n        }, [\n          _createTextVNode(_toDisplayString(sido.siDoNm) + \" \", 1),\n          _createElementVNode(\"em\", _hoisted_5, \"(\" + _toDisplayString(sido.cnt) + \")\", 1)\n        ], 10, _hoisted_4))\n      }), 128))\n    ]),\n    _hoisted_6,\n    _createElementVNode(\"ul\", _hoisted_7, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sigunguArr.value, (sigungu) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          class: _normalizeClass([\"opsBtn\", { 'is-active': chosenSigungu.value.find(a => a.siGunGuCd === sigungu.siGunGuCd) }]),\n          key: sigungu.siGunGuCd,\n          onClick: \r\n                    () => {\r\n                        if (sigungu.siGunGuNm === '전체') {\r\n                            if (chosenSigungu.value.length && chosenSigungu.value.find(a => a.siGunGuNm === '전체')) {\r\n                                chosenSigungu.value = [];\r\n                            } else {\r\n                                chosenSigungu.value = [{ ...sigungu }];\r\n                            }\r\n                            return;\r\n                        }\r\n\r\n                        const target = chosenSigungu.value.find(a => a.siGunGuCd === sigungu.siGunGuCd);\r\n                        if (target) {\r\n                            chosenSigungu.value = chosenSigungu.value.filter(a => a.siGunGuCd !== sigungu.siGunGuCd);\r\n                        } else {\r\n                            if (chosenSigungu.value.find(a => a.siGunGuNm === '전체')) {\r\n                                chosenSigungu.value = [{ ...sigungu }];\r\n                            } else {\r\n                                chosenSigungu.value = [...chosenSigungu.value.map(a => ({ ...a })), { ...sigungu }];\r\n                            }\r\n                        }\r\n                    }\r\n                \n        }, [\n          _createTextVNode(_toDisplayString(sigungu.siGunGuNm) + \" \", 1),\n          _createElementVNode(\"em\", _hoisted_9, \"(\" + _toDisplayString(sigungu.cnt) + \")\", 1)\n        ], 10, _hoisted_8))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"div\", _hoisted_11, [\n        _withDirectives(_createElementVNode(\"select\", {\n          class: \"jongmokSelect mr-10\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((grEvfxCd).value = $event))\n        }, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(grEvfxCdOps.value, (op) => {\n            return (_openBlock(), _createElementBlock(\"option\", {\n              value: op.value\n            }, _toDisplayString(op.label), 9, _hoisted_12))\n          }), 256))\n        ], 512), [\n          [_vModelSelect, grEvfxCd.value]\n        ]),\n        _withDirectives(_createElementVNode(\"input\", {\n          class: \"keywordInput\",\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((clubNm).value = $event)),\n          placeholder: \"클럽명을 입력해주세요.\"\n        }, null, 512), [\n          [_vModelText, clubNm.value]\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_13, [\n        _hoisted_14,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          id: \"a\",\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((etcOps.value.pkgPsbYn) = $event)),\n          \"true-value\": \"Y\",\n          \"false-value\": \"N\"\n        }, null, 512), [\n          [_vModelCheckbox, etcOps.value.pkgPsbYn]\n        ]),\n        _hoisted_15,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          id: \"b\",\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((etcOps.value.wifiOffrYn) = $event)),\n          \"true-value\": \"Y\",\n          \"false-value\": \"N\"\n        }, null, 512), [\n          [_vModelCheckbox, etcOps.value.wifiOffrYn]\n        ]),\n        _hoisted_16,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          id: \"c\",\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((etcOps.value.shtlOprtYn) = $event)),\n          \"true-value\": \"Y\",\n          \"false-value\": \"N\"\n        }, null, 512), [\n          [_vModelCheckbox, etcOps.value.shtlOprtYn]\n        ]),\n        _hoisted_17,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          id: \"d\",\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((etcOps.value.dsbpFaclOffrYn) = $event)),\n          \"true-value\": \"Y\",\n          \"false-value\": \"N\"\n        }, null, 512), [\n          [_vModelCheckbox, etcOps.value.dsbpFaclOffrYn]\n        ]),\n        _hoisted_18\n      ]),\n      _createElementVNode(\"button\", {\n        class: \"searchBtn\",\n        onClick: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_unref(fetchData) && _unref(fetchData)(...args)))\n      }, \"검색\")\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\n    import useFetch from \"@/composables/useFetch\";\r\n    import { ref, watch } from \"vue\";\r\n    import { useField } from \"vee-validate\";\r\n    import useGetCommonOps from \"@/composables/useGetCommonOps\";\r\n\r\n    const emit = defineEmits<{\r\n        fetchList: [p: CloseRangeResDto];\r\n    }>();\r\n\r\n    const sidoArr = ref<SidoList[] | null>(null);\r\n    const chosenSido = ref<SidoList | null>(null);\r\n\r\n    const sigunguArr = ref<SigunguList[] | null>(null);\r\n    const chosenSigungu = ref<SigunguList[]>([]);\r\n\r\n    const grEvfxCd = ref<string>(\"\");\r\n    const clubNm = ref<string>(\"\");\r\n\r\n    const grEvfxCdOps = ref<OpsList[] | null>();\r\n\r\n    const etcOps = ref<any>({\r\n        pkgPsbYn: \"N\",\r\n        wifiOffrYn: \"N\",\r\n        shtlOprtYn: \"N\",\r\n        dsbpFaclOffrYn: \"N\"\r\n    });\r\n\r\n    useGetCommonOps({\r\n        code: \"CO010\",\r\n        onSuccess: (data: CDList[]) => {\r\n            grEvfxCdOps.value = [\r\n                { label: \"종목전체\", value: \"\" },\r\n                ...data.map((a: CDList) => ({ value: a.commnCd, label: a.cdNm }))\r\n            ] as OpsList[];\r\n        }\r\n    });\r\n\r\n    useFetch<SidoList[]>({\r\n        url: \"/search/si-do\",\r\n        onSuccess: data => {\r\n            // data.shift();\r\n\r\n            sidoArr.value = data;\r\n            chosenSido.value = { ...data[0] };\r\n        }\r\n    });\r\n\r\n    useFetch<SigunguList[]>({\r\n        url: \"/search/si-gun-gu\",\r\n        dependancy: [() => chosenSido.value],\r\n        enable: () => !!chosenSido.value,\r\n        param: () => ({ siDoCd: chosenSido.value?.siDoCd }),\r\n        onSuccess: data => {\r\n            sigunguArr.value = data;\r\n            chosenSigungu.value.push({ ...data[0] });\r\n        }\r\n    });\r\n    const { fetchData } = useFetch<CloseRangeResDto>({\r\n        url: \"/search/si-gun-gu-sportclub\",\r\n        dependancy: [() => chosenSido.value, () => chosenSigungu.value],\r\n        param: () => ({\r\n            siDoCd: chosenSido.value?.siDoCd,\r\n            siGunGuCd: chosenSigungu.value.map(a => a.siGunGuCd),\r\n            grEvfxCd: grEvfxCd.value,\r\n            clubNm: clubNm.value,\r\n            ...etcOps.value\r\n        }),\r\n        onSuccess: data => {\r\n            console.log(data);\r\n            emit(\"fetchList\", data);\r\n        }\r\n    });\r\n\r\n    watch(\r\n        () => chosenSigungu.value,\r\n        val => {\r\n            console.log(\"cho\", val);\r\n        }\r\n    );\r\n</script>\r\n\r\n<template>\r\n    <div class=\"searchLocalClub inner-w\">\r\n        <h3 class=\"title-sub mb-16\">시도선택<i class=\"required\"></i></h3>\r\n        <ul class=\"tab square sidoWrap d-flex\">\r\n            <li\r\n                class=\"opsBtn\"\r\n                v-for=\"sido in sidoArr\"\r\n                :key=\"sido.siDoCd\"\r\n                :class=\"{ 'is-active': chosenSido?.siDoCd == sido.siDoCd }\"\r\n                @click=\"\r\n                    chosenSido = sido;\r\n                    chosenSigungu = [];\r\n                \"\r\n            >\r\n                {{ sido.siDoNm }}&nbsp;<em class=\"font-roboto\">({{ sido.cnt }})</em>\r\n            </li>\r\n        </ul>\r\n        <h3 class=\"title-sub mb-16\">시군구 선택<i class=\"required\"></i></h3>\r\n        <ul class=\"tab square sigunguWrap mini\">\r\n            <li\r\n                class=\"opsBtn\"\r\n                v-for=\"sigungu in sigunguArr\"\r\n                :key=\"sigungu.siGunGuCd\"\r\n                :class=\"{ 'is-active': chosenSigungu.find(a => a.siGunGuCd === sigungu.siGunGuCd) }\"\r\n                @click=\"\r\n                    () => {\r\n                        if (sigungu.siGunGuNm === '전체') {\r\n                            if (chosenSigungu.length && chosenSigungu.find(a => a.siGunGuNm === '전체')) {\r\n                                chosenSigungu = [];\r\n                            } else {\r\n                                chosenSigungu = [{ ...sigungu }];\r\n                            }\r\n                            return;\r\n                        }\r\n\r\n                        const target = chosenSigungu.find(a => a.siGunGuCd === sigungu.siGunGuCd);\r\n                        if (target) {\r\n                            chosenSigungu = chosenSigungu.filter(a => a.siGunGuCd !== sigungu.siGunGuCd);\r\n                        } else {\r\n                            if (chosenSigungu.find(a => a.siGunGuNm === '전체')) {\r\n                                chosenSigungu = [{ ...sigungu }];\r\n                            } else {\r\n                                chosenSigungu = [...chosenSigungu.map(a => ({ ...a })), { ...sigungu }];\r\n                            }\r\n                        }\r\n                    }\r\n                \"\r\n            >\r\n                {{ sigungu.siGunGuNm }}&nbsp;<em class=\"font-roboto\">({{ sigungu.cnt }})</em>\r\n            </li>\r\n        </ul>\r\n        <div class=\"searchOpsBox d-flex ai-center jc-between\">\r\n            <div class=\"d-flex\">\r\n                <select class=\"jongmokSelect mr-10\" v-model=\"grEvfxCd\">\r\n                    <option :value=\"op.value\" v-for=\"op in grEvfxCdOps\">{{ op.label }}</option>\r\n                </select>\r\n                <input class=\"keywordInput\" v-model=\"clubNm\" placeholder=\"클럽명을 입력해주세요.\" />\r\n            </div>\r\n            <div class=\"etcOps\">\r\n                <span class=\"tit mr-40\">부가시설</span>\r\n\r\n                <input type=\"checkbox\" id=\"a\" v-model=\"etcOps.pkgPsbYn\" true-value=\"Y\" false-value=\"N\" />\r\n                <label class=\"etcCheckbox\" for=\"a\">주차장</label>\r\n                <input type=\"checkbox\" id=\"b\" v-model=\"etcOps.wifiOffrYn\" true-value=\"Y\" false-value=\"N\" />\r\n                <label class=\"etcCheckbox\" for=\"b\"> 무선인터넷 </label>\r\n                <input type=\"checkbox\" id=\"c\" v-model=\"etcOps.shtlOprtYn\" true-value=\"Y\" false-value=\"N\" />\r\n                <label class=\"etcCheckbox\" for=\"c\"> 셔틀버스 </label>\r\n                <input type=\"checkbox\" id=\"d\" v-model=\"etcOps.dsbpFaclOffrYn\" true-value=\"Y\" false-value=\"N\" />\r\n                <label class=\"etcCheckbox\" for=\"d\"> 장애인시설물 </label>\r\n            </div>\r\n            <button class=\"searchBtn\" @click=\"fetchData\">검색</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n    .title-sub {\r\n        @include font-style(22);\r\n        font-weight: 500;\r\n    }\r\n    .tab {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        &.sidoWrap,\r\n        &.sigunguWrap {\r\n            margin-bottom: 60px;\r\n        }\r\n\r\n        li {\r\n            @include flex;\r\n        }\r\n\r\n        &.square {\r\n            /* height: 54px; */\r\n            gap: 12px;\r\n            li {\r\n                border-radius: 14px;\r\n                height: 56px;\r\n                line-height: 56px;\r\n                width: calc(100% / 6 - 10px);\r\n                &.is-active {\r\n                    color: #0fae6f;\r\n                    border-color: #0fae6f;\r\n                    font-weight: 500;\r\n                    background: rgba(15, 174, 111, 0.05);\r\n                    box-shadow: 4px 4px 18px 0 rgba(0, 0, 0, 0.15);\r\n                }\r\n            }\r\n\r\n            &.mini {\r\n                height: auto;\r\n                gap: 9px;\r\n                flex-wrap: wrap;\r\n                justify-content: flex-start;\r\n\r\n                li {\r\n                    width: calc((100% / 10) - 8.1px);\r\n                    height: 46px;\r\n                    border-radius: 12px;\r\n\r\n                    &.is-active {\r\n                        color: #fff;\r\n                        font-weight: 500;\r\n                        border-color: #0fae6f;\r\n                        background: #0fae6f;\r\n                        box-shadow: 4px 4px 12px 0 rgba(0, 0, 0, 0.17);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .required {\r\n        display: inline-block;\r\n        width: 8px;\r\n        height: 8px;\r\n        background: #0fae6f;\r\n        margin-left: 13px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .font-roboto {\r\n        font-family: $fontRoboto;\r\n    }\r\n\r\n    .searchOpsBox {\r\n        %uiStyle {\r\n            border-radius: 8px;\r\n            border: solid 1px #d6dce5;\r\n            background-color: #fff;\r\n            height: 42px;\r\n            color: #999999;\r\n            @include font-style(15);\r\n            padding: 0 16px;\r\n        }\r\n        background-color: #f9f9f9;\r\n        border: solid 1px #e8eff4;\r\n        border-radius: 12px;\r\n        padding: 34px 60px;\r\n        margin-bottom: 80px;\r\n        select {\r\n            @extend %uiStyle;\r\n            cursor: pointer;\r\n            background: url(\"@/assets/icon/ic_arrow.svg\") no-repeat right 16px center #fff;\r\n        }\r\n        .keywordInput {\r\n            @extend %uiStyle;\r\n            width: 280px;\r\n        }\r\n        .etcOps {\r\n            .tit {\r\n                @include font-style(16);\r\n                font-weight: 500;\r\n            }\r\n            .etcCheckbox {\r\n                color: #555555;\r\n                @include font-style(16);\r\n                margin-right: 30px;\r\n                cursor: pointer;\r\n                &:last-child {\r\n                    margin-right: 0;\r\n                }\r\n                &::before {\r\n                    content: \"\";\r\n                    display: inline-block;\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 4px;\r\n                    border: solid 1px #d6dce5;\r\n                    background-color: #fff;\r\n                    box-sizing: border-box;\r\n                    position: relative;\r\n                    top: 4px;\r\n                    margin-right: 5px;\r\n                }\r\n            }\r\n            input {\r\n                display: none;\r\n                &:checked + label::before {\r\n                    border: none;\r\n                    background: url(\"@/assets/imgs/selectbox_active.svg\") no-repeat center center #0fae6f;\r\n                }\r\n            }\r\n        }\r\n        .searchBtn {\r\n            color: #0fae6f;\r\n            height: 42px;\r\n            text-align: center;\r\n            line-height: 42px;\r\n            border-radius: 8px;\r\n            background-color: #fff;\r\n            @include font-style(15);\r\n            font-weight: 500;\r\n            border: solid 1px #0fae6f;\r\n            width: 90px;\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./SearchLocalType.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SearchLocalType.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SearchLocalType.vue?vue&type=style&index=0&id=5f1227f5&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f1227f5\"]])\n\nexport default __exports__"],"names":["useGetCommonOps","code","dependancy","enable","isAll","onSuccess","data","fetchData","async","res","get","value","map","a","label","cdNm","commnCd","unshift","err","console","log","immediate","_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","for","_hoisted_16","_hoisted_17","_hoisted_18","__name","emits","setup","__props","emit","__emit","sidoArr","chosenSido","sigunguArr","chosenSigungu","grEvfxCd","clubNm","grEvfxCdOps","etcOps","pkgPsbYn","wifiOffrYn","shtlOprtYn","dsbpFaclOffrYn","useFetch","url","param","siDoCd","push","siGunGuCd","val","_ctx","_cache","sido","key","onClick","$event","siDoNm","cnt","sigungu","find","siGunGuNm","length","target","filter","op","placeholder","type","id","args","__exports__"],"sourceRoot":""}